<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>CI360 – Projeto simples de teste</title>

  <!-- CI360 Tag -->
  <script src="https://tagmanager.ci360.sas.com/utag.js"></script>

  <script>
    // =========================================
    // IDENTITY (BEST PRACTICE)
    // =========================================

    // Em produção viria do login / CRM / cookie
    window.ci360_identity = "RENAN_TESTE_001";

    function enviarIdentityManual() {
      window.ci360_identity = "RENAN_TESTE_001";

      console.log("Identity enviada:", window.ci360_identity);
      log("Identity enviada: " + window.ci360_identity);
    }

    // =========================================
    // EVENTO BÁSICO
    // =========================================
    function enviarEventoBasico() {
      if (window.ci360) {
        ci360.sendEvent("teste_sdk_ci360");
        log("Evento básico enviado.");
      } else {
        log("CI360 ainda não carregou.");
      }
    }

    // =========================================
    // EVENTO COM ATRIBUTO
    // =========================================
    function enviarEventoComAtributo() {
      if (window.ci360) {
        ci360.sendEvent("teste_sdk_ci360", {
          produto: "cartao",
          origem: "teste_manual"
        });
        log("Evento + atributo enviado.");
      } else {
        log("CI360 ainda não carregou.");
      }
    }

    // =========================================
    // VALIDAÇÃO SDK
    // =========================================
    function testarCarregamento() {
      if (window.ci360) {
        log("CI360 pronto automaticamente.");
      } else {
        log("CI360 não carregado.");
      }
    }

    // =========================================
    // LOG VISUAL
    // =========================================
    function log(msg) {
      const el = document.getElementById("log");
      const time = new Date().toLocaleString();
      el.innerHTML = "[" + time + "] " + msg + "<br>" + el.innerHTML;
    }

    window.onload = function() {
      log("Página carregada. Aguardando CI360...");
    };
  </script>

  <style>
    body { font-family: Arial; margin: 40px; }
    button { padding: 10px; margin: 8px; }
    #log {
      background:#0b1220;
      color:#fff;
      padding:15px;
      margin-top:20px;
      border-radius:6px;
      font-size:13px;
    }
  </style>
</head>

<body>

  <h2>CI360 – Projeto simples de teste</h2>

  <p><b>Evento principal:</b> teste_sdk_ci360</p>

  <button onclick="enviarEventoBasico()">Enviar evento básico</button>
  <button onclick="enviarEventoComAtributo()">Enviar evento + atributo</button>
  <button onclick="enviarIdentityManual()">Enviar identity (teste)</button>
  <button onclick="testarCarregamento()">Testar se SDK carregou</button>

  <div id="log"></div>

</body>
</html>
